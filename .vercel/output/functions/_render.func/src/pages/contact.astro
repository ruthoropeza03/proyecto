---
import Header from '../components/Header.astro';

let message = '';
if (Astro.url.searchParams.get('success') === '1') {
  message = 'Â¡Mensaje enviado y guardado correctamente!';
}
---
<Header />
<main style="max-width: 600px; margin: 0 auto;">
    <h1>Contacto</h1>
    {message && (
      <div style="color: green; padding: 1rem; background: #f0f0f0;">{message}</div>
    )}
    <form method="POST" action="/api/contact" style="display: grid; gap: 1rem;">
        <div>
            <label for="name">Nombre:</label>
            <input 
                type="text" 
                id="name" 
                name="name" 
                required
                style="width: 100%; padding: 0.5rem;"
            />
        </div>
        <div>
            <label for="email">Email:</label>
            <input 
                type="email" 
                id="email" 
                name="email" 
                required
                style="width: 100%; padding: 0.5rem;"
            />
        </div>
        <div>
            <label for="message">Mensaje:</label>
            <textarea 
                id="message" 
                name="message" 
                rows="5" 
                required
                style="width: 100%; padding: 0.5rem;"
            ></textarea>
        </div>
        <button type="submit" style="padding: 0.75rem; background: #0070f3; color: white; border: none; cursor: pointer;">
            Enviar Mensaje
        </button>
    </form>
</main>