---
// src/pages/contact.astro
import Layout from '../layouts/Layout.astro';

let message = '';
if (Astro.url.searchParams.get('success') === '1') {
  message = '¡Mensaje enviado y guardado correctamente!';
}
---

<Layout title="Contacto">

  
  <main class="container my-2">
    <div class="row justify-content-center">
      <div class="col-md-8 col-lg-6">
        <!-- Mensaje de éxito -->
        {message && (
          <div class="alert alert-success mb-4">
            <i class="bi bi-check-circle-fill me-2"></i>{message}
          </div>
        )}

        <h1 class="text-white mb-4">Contacto</h1>
        
        <form method="POST" action="/api/contact" class="card border-0 bg-dark-800 p-4">
          <div class="mb-3">
            <label for="name" class="form-label text-white">Nombre:</label>
            <input 
              type="text" 
              id="name" 
              name="name" 
              class="form-control bg-dark-700 text-white border-dark"
              required
            />
          </div>
          
          <div class="mb-3">
            <label for="email" class="form-label text-white">Email:</label>
            <input 
              type="email" 
              id="email" 
              name="email" 
              class="form-control bg-dark-700 text-white border-dark"
              required
            />
          </div>
          
          <div class="mb-4">
            <label for="message" class="form-label text-white">Mensaje:</label>
            <textarea 
              id="message" 
              name="message" 
              rows="5" 
              class="form-control bg-dark-700 text-white border-dark"
              required
            ></textarea>
          </div>
          
          <button type="submit" class="btn btn-primary py-3">
            <i class="bi bi-send-fill me-2"></i>Enviar Mensaje
          </button>
        </form>
      </div>
    </div>
  </main>
</Layout>

<style>
  /* Estilos personalizados para el formulario */
  .bg-dark-800 {
    background-color: rgba(30, 30, 30, 0.8);
  }
  .bg-dark-700 {
    background-color: rgba(50, 50, 50, 0.7);
  }
  .border-dark {
    border-color: #444 !important;
  }
</style>